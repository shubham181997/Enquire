WhyShouldItellYou
{'username': 'Random person', 'password': 'WhyShouldItellYou'}
http://auth.c100.hasura.me/login
{'Content-Type': 'application/json'}
r inside try===== {'hasura_roles': ['user'], 'auth_token': '506zo1j152w2m3x71zr4mrzgq9u7dvht', 'hasura_id': 10}
{'Authorization': 'Bearer 506zo1j152w2m3x71zr4mrzgq9u7dvht', 'Content-Type': 'application/json'}



WhyShouldItellYou
{'username': 'Random person', 'password': '$5$rounds=535000$X.C2mHXQnsA9NfKt$Mgyqd7y6piEcUABpbaae58g3GFraYBXelzHZQHmCaUB'}
http://auth.c100.hasura.me/login
{'Content-Type': 'application/json'}
r inside try===== {'message': 'Incorrect credentials. Please try again.'}



    query={"type":"select" ,
		"args": {
		"table":"profile",
		"columns":["*"] ,
		"where": {"username": session['username']}
	}}
    r1=requests.post(query_url, data=json.dumps(query) ,headers=headers).json()
    print("r1=",r1)


onclick="{% endpoint = 'reg' %}"
 data-toggle="modal" data-target="#myModal1"

try:
	for i in range(min(4,3)):
		randomId=random.randint(1,4)
		while(randomId in temp):
			randomId=random.randint(1,4)
		temp.append(randomId)

onclick="var quesClick='{{i}}'; "

onclick="document.location.href='homePage.html';"



 <script> var inside=String.raw("{{article['answer']}}");  console.log(String(inside)); $('SampAns').append(inside); </script>


 <li class="list-group-item bg-primary w-100 mx-auto px-auto font-20 text-black ffZilla"  name="{{i}}" onclick="alert(this); showSubcat();  document.getElementById('sublist').style.display='inline';" data-toggle="modal" data-target="#myModal1"> {{ i['category'] }} </li>

  <ul class="text-center list-inline mx-0" id="sublist" style="display: none;">
                <li class="list-group-item bg-info w-100 mx-auto px-auto">Item1</li>
                <li class="list-group-item bg-info w-100 mx-auto px-auto">Item2</li>
            </ul>






	/*console.log("sadasd");
	
	document.getElementById('login').style.borderBottom="5px solid DarkCyan";
	var SignUp=document.getElementById('signup');
	SignUp.onclick=function(){
		var btnCont=document.getElementById('btnCont');
		x='<form name="signUpform" action="/createUser"><input type="text" name="Name" placeholder="Name"><br><input type="text" name="Username" placeholder="Email"><br><input type="Password" name="Password" placeholder="Password"><br><input type="Password" name="Confirm Password" placeholder="Confirm Password"><br><br><button type="Submit" name="SignUp" class="btn btn-danger btn-login" >Register</button><br></form>';
		document.getElementById('signup').style.borderBottom="5px solid DarkCyan";
		document.getElementById('login').style.borderBottom="1px solid #444";
		btnCont.innerHTML=x;
	};
	var Login=document.getElementById('login');
	Login.onclick=function(){
		var loginform=document.getElementById('loginform');
		x='<form name="loginform" action='/'><input type="text" name="Username" placeholder="Username/Email"><br><input type="Password" name="Password" placeholder="Password"><br>				<div class="loginOptions"><i class="fa fa-facebook" style="font-size: 30px; background-color: #3B5998;; margin-top: 5px;border-radius: 50%; color: #fff; padding: 8px 15px;"></i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<button type="Submit" name="Submit" class="btn btn-primary btn-login" style="margin-top: -15px; width: 20%;font-size: 20px; color: #222;" >LogIn</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class="fa fa-google-plus" style="font-size: 30px; margin-top: 5px; background-color:#dd4b39; border-radius: 50%; color: #fff; padding: 10px 8px;"></i><br><br><a href="ForgotPassword.html">Forgot Password?</a></div><br>			</form>';
		document.getElementById('login').style.borderBottom="5px solid DarkCyan";
		document.getElementById('signup').style.borderBottom="1px solid #444";
		loginform.innerHTML=x;

		var signpSub=document.getElementById('signup');
		signpSub.onsubmit=function(){
			if(document.signUpform.Password.value != document.signUpform.ConfirmPassword){
				alert("Passwords do not match");
			}
		}
	};*/






	onerror=" this.src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQFg_oO2x-oCgbvj8MsgGtzlVrv3d3I2iFIpAOtbnEyPXO1CHwV';"




		#print("Sample answers=",SampleAns)

	# SampQues=[]
	# for i in SampleAns:
	# 	q=i['question']
	# 	query={
	# 	  "args": {
		   
	# 	    "columns": [
	# 	      "title"
	# 	    ],"where":{"id":q},
	# 	    "table": "questions"
	# 	  },
	# 	  "type": "select"
	# 	}
	# 	temp=requests.post(query_url, json.dumps(query, indent=2), headers=headers).json()
	# 	SampQues.append(temp[0]['title'])	
	# print("SampQues",SampQues)

	# x=SampleAns[0]['answer'];
	# print(x)
	#print(PP[0]['profilepic'])




True s85ptyww42zrjkv2uf34pswricujjwoo Bearer s85ptyww42zrjkv2uf34pswricujjwoo
r= [{'subcategories': '[Android,YouTube] ', 'category': 'Technology', 'id': 1}, {'subcategories': None, 'category': 'Docs Required', 'id': 2}]
Sample answers= []
127.0.0.1 - - [15/Jul/2017 20:31:12] "GET / HTTP/1.1" 200 -
Shubham1
http://data.c100.hasura.me/v1/query
{'Content-Type': 'application/json', 'Authorization': 'Bearer s85ptyww42zrjkv2uf34pswricujjwoo'}
r===== [{'email': 'sa126@snu.edu.in', 'name': 'Shubham', 'profilepic': None, 'mobile': None, 'username': 'Shubham1', 'id': 1}]
127.0.0.1 - - [15/Jul/2017 20:31:18] "GET /profile HTTP/1.1" 200 -
session['logged_in']=  True
r===== {'message': 'You have to be user to access this endpoint'}
127.0.0.1 - - [15/Jul/2017 20:31:19] "GET /logout HTTP/1.1" 302 -
User is not logged in
r= [{'subcategories': '[Android,YouTube] ', 'category': 'Technology', 'id': 1}, {'subcategories': None, 'category': 'Docs Required', 'id': 2}]
Sample answers= []
127.0.0.1 - - [15/Jul/2017 20:31:19] "GET / HTTP/1.1" 200 -
FORM ===========  <__main__.RegistrationForm object at 0x7fa6d4b585f8>  


GET
127.0.0.1 - - [15/Jul/2017 20:31:22] "GET /register HTTP/1.1" 200 -
FORM ===========  <__main__.RegistrationForm object at 0x7fa6d4b118d0>  


POST
Read username chomu inside register endpoint successfully.
r for register======= {'hasura_roles': ['user'], 'auth_token': 'ij15s0fb71yjrsyaebfqo52tsem5qen1', 'hasura_id': 6}
http://data.c100.hasura.me/v1/query {'type': 'insert', 'args': {'objects': [{'email': 'sanchit@gmail.com', 'username': 'chomu', 'name': 'sanchit'}], 'table': 'profile'}}
r======= {'affected_rows': 1}
127.0.0.1 - - [15/Jul/2017 20:31:53] "POST /register HTTP/1.1" 302 -
FORM FOR LOGIN ENDPOINT IS  <__main__.LoginForm object at 0x7fa6d4b11358>
127.0.0.1 - - [15/Jul/2017 20:31:53] "GET /login HTTP/1.1" 200 -
sanchit123
{'password': 'sanchit123', 'username': 'chomu'}
http://auth.c100.hasura.me/login
{'Content-Type': 'application/json'}
r inside try===== {'hasura_roles': ['user'], 'auth_token': 'a718y18aoug0b22hh31bz56b8rghwd5l', 'hasura_id': 6}
{'type': 'update', 'args': {'$set': {'uid': 6}, 'returning': ['*'], 'table': 'profile', 'where': {'username': 'chomu'}}}
{'Content-Type': 'application/json', 'Authorization': 'Bearer a718y18aoug0b22hh31bz56b8rghwd5l'}
http://data.c100.hasura.me/v1/query
r======= {'path': '$.args.$set', 'error': 'role "user" does not have permission to update column "uid"'}
Redirecting...
127.0.0.1 - - [15/Jul/2017 20:32:04] "POST /login HTTP/1.1" 302 -
True a718y18aoug0b22hh31bz56b8rghwd5l Bearer a718y18aoug0b22hh31bz56b8rghwd5l
r= [{'subcategories': '[Android,YouTube] ', 'category': 'Technology', 'id': 1}, {'subcategories': None, 'category': 'Docs Required', 'id': 2}]
Sample answers= []
127.0.0.1 - - [15/Jul/2017 20:32:04] "GET / HTTP/1.1" 200 -
chomu
http://data.c100.hasura.me/v1/query
{'Content-Type': 'application/json', 'Authorization': 'Bearer a718y18aoug0b22hh31bz56b8rghwd5l'}
r===== [{'email': 'sanchit@gmail.com', 'name': 'sanchit', 'profilepic': None, 'mobile': None, 'username': 'chomu', 'id': 4}]
127.0.0.1 - - [15/Jul/2017 20:32:11] "GET /profile HTTP/1.1" 200 -
Entered qANDa endpoint
{'type': 'count', 'args': {'table': 'questions'}} http://data.c100.hasura.me/v1/query
4
[{'title': 'How to get my business\xa0online ??\xa0'}]
[{'title': 'How to save videos online on YouTube.'}]
[{'title': 'How to link my adhaar card with PAN card??'}]

 ['How to get my business\xa0online ??\xa0', 'How to save videos online on YouTube.', 'How to link my adhaar card with PAN card??'] 

127.0.0.1 - - [15/Jul/2017 20:32:28] "GET /QandA HTTP/1.1" 200 -
chomu
0
/usr/lib/python3/dist-packages/bs4/__init__.py:166: UserWarning: No parser was explicitly specified, so I'm using the best available HTML parser for this system ("lxml"). This usually isn't a problem, but if you run this code on another system, or in a different virtual environment, it may use a different parser and behave differently.

To get rid of this warning, change this:

 BeautifulSoup([your markup])

to this:

 BeautifulSoup([your markup], "lxml")

  markup_type=markup_type))

question= Why am I called chomu??? 
 category=   
 subcategory=   

request.form===== ImmutableMultiDict([('Category', ''), ('subCategory', ''), ('questa', '<p>Why am I called chomu???</p>\r\n')])


 {
  "type": "insert",
  "args": {
    "objects": [
      {
        "title": "Why am I called chomu???",
        "asked_by": "chomu",
        "question": "<p>Why am I called chomu???</p>\r\n",
        "category": "Miscellaneous"
      }
    ],
    "table": "questions"
  }
} 

<Response [200]>






	#Inserting the category into categories table if not already present
	# query={"type":"select" ,
	# 	"args":{
	# 		"table":"categories",
	# 		"columns":["*"]
	# 		}
	# 	}
	# print("\n\n",json.dumps(query, indent=2),"\n")
	# print(query_url)
	# categories=requests.post(query_url, json.dumps(query), headers=headers).json()
	# print("categories= ",categories,"\n\n")
		
	# #categs contains all the category names
	# categs=[]
	# for i in categories:
	# 	categs.append(i['category'])
	# print(categs,"\n\n")

	# if subcategory!="" and category in categs:
	# 	query["args"]["objects"][0]["subcategory"]=subcategory
	
	#print(CKEDITOR.instances.editor1.getData());
	#question=request.form.ques


	#4281b5;
	#dddddd;

	#87b7c8





	"""from flask import Flask,jsonify, request,redirect,url_for,render_template
import requests
import json

app=Flask(__name__)

class users():
	name="shubham"
	username="bumbum"
	email="sa21asd"
	url="https://avatars1.githubusercontent.com/u/18347915?v=3&s=40"

@app.route("/")
def hello():
    return render_template('home.html')
    #return json.dumps({"message":"Hello World!"})

@app.route("/register")
@app.route("/login")
def login():
	return render_template('LoginPage.html')
	#return "You have logged in successfully"
	
@app.route("/profile")
def profile():
	return render_template('Profile.html', user=users())

@app.route("/QandA")
def QandA():
	return render_template('Q&A.html')


if __name__=='__main__':
	app.secret_key='secret123'
	app.run(debug=True)



from flask import Flask,jsonify, request,redirect,url_for,render_template
import requests
import json

import config

app = Flask(__name__)

data_url = None
headers = {
    'Content-Type': 'application/json'
}

#if not config.DEVELOPMENT:
if 1==1:
    data_url = 'http://auth.c100.hasura.me:80'
    
else:
    # Make a request to the data API as the admin role for full access
    data_url = 'http://data.hasura'
    headers['X-Hasura-Role'] = 'admin'
    headers['X-Hasura-User-Id'] = '1'

query_url = data_url + '/login'

@app.route("/")
def home():
	return render_template('home.html')

@app.route("/login")
def hello():
    query={"username":"shubhma","password":"WhyShouldItellYou"}
    print("data_url= \n",data_url,"\n","query_url=\n",query_url,"\n headers=\n",headers,"\n data=\n",json.dumps(query))
    r=requests.post(query_url, data=json.dumps(query) ,headers=headers)
    print("r=",r)
    return jsonify(r.json())
    query ={
            		"type": "select",
            		"args": {
            			"table": "Users",
            			"columns": ["*"]
            			}
            		}
            
            
                r = requests.post(query_url, data=json.dumps(query), headers=headers)
                if r.status_code != 200:
                    return "Error fetching current schema: %s" % r.text
            
                return jsonify(r.json())
         
@app.route("/<string:role>")
def get_role(role):
    roles = request.headers['X-Hasura-Allowed-Roles']

    if role in roles:
        return "Hey you have the %s role" % role

    return ('DENIED: Only a user with %s role can access this endpoint' % role, 403)

@app.route("/register")
@app.route("/login")
def login():
	return render_template('LoginPage.html')
	#return "You have logged in successfully"


@app.route("/")
def hello():
    print("data_url")
    query = {
        'type': 'select',
        'args': {
            'table': 'categories',
            'columns': ['*'],
        }
    }
    r = requests.post(query_url, data=json.dumps(query), headers=headers)
    if r.status_code != 200:
        return "Error fetching current schema: %s" % r.text
    return jsonify(r.json())


	
if __name__ == '__main__':
    app.run(debug=True)
"""



<!-- <ul class="my-0">
                  {% for j in i['subcategories'].split(',') %}
                    <button class="font-22 text-black drops my-0 w-100 btn-primary">{{j.strip("'")}}</button><br>
                  {% endfor %}
                </ul> -->




